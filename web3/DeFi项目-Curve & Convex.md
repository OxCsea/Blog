# DeFi Curve & Convex

## 路线

1. 看懂 Curve 是如何提供“稳定币交易、低滑点”的
2. 理解 veToken 模型、CRV 奖励机制
3. 拆解 Convex 如何叠加 Curve 收益、发掘“veCRV套利”逻辑
4. 明确 LP 用户、CRV 持有者、Convex 用户分别的收益路径与策略组合

## 介绍

Curve 是专为同质资产（如稳定币、ETH 衍生品）设计的 DEX，特点是：

- 极低滑点（如 USDT ↔ USDC 的交易）
- 强大的激励系统（CRV + veCRV）
- 支持 LP 提供流动性赚交易费 + CRV

它是 DeFi 领域中**最重要的稳定资产交易与利率衍生品底层基础设施**之一。

## 同质资产

Curve是专为“同质资产（如稳定币/锚定资产）交易设计的低滑点 AMM（自动做市商）

### 传统DEX

Uniswap 使用的是最经典的 AMM 算法：`x * y = k`

这种设计虽然简单通用，但有明显问题：

- 当两种资产价格差异很小（比如 USDC 和 USDT），
- **轻微买卖操作都会导致价格大幅偏离中位价**
- 导致**滑点大、做市效率低**

这在稳定币交易中完全无法接受（比如我用 1000 USDC 换 1000 USDT，结果只收到 980 USDT，滑点太大）

### Curve突破

> 算法优化StableSwap+资产筛选+深度充足veCRV吸引LP大量流动性

采用 StableSwap 曲线，其核心思想：

- **中间部分（资产价格接近）更平缓** → 提供**极低滑点**
- **两端（资产价格严重偏离）才更陡峭** → 保障**池子不被撸空**

### 支持资产

Curve 只支持以下类型的资产池：

- 稳定币与稳定币（USDC、USDT、DAI、FRAX）
- LSD 与 LSD（stETH、rETH、frxETH）
- 同类资产衍生品（wBTC、renBTC、sBTC）

这些资产之间**目标价格非常接近**，所以：

> Curve 的 StableSwap 模型能大大提高资本效率 用户交易成本极低，深受大资金用户欢迎 LP 提供的资产更不容易遭遇价格剧烈波动，**IL（无常损失）也较小**

## 运作机制

 作为用户，你可以：

- 在 Curve 上**兑换**资产（如 USDC → USDT）
- 向池子提供流动性（成为 LP），赚：
  - 交易手续费（如 0.04%）
  - CRV 激励（分配给 LP）

作为 LP，你的收益：

- `swap手续费收入`（真实）
- `CRV奖励`（额外激励，可被bribe所影响）

## CRV模型

### 介绍

CRV

- Curve 发的代币，用于奖励提供流动性的用户
- 初始 APY 来自 CRV 持续通胀发行

veCRV

- 你将 CRV 锁仓（最长 4 年）后得到 veCRV
- veCRV 赋予你：
  - **投票权**（决定哪些池子拿到更多 CRV 激励）
  - **交易手续费的 50% 分红**
  - **治理参与权**

>  所以谁持有 veCRV，谁就可以**控制激励流向、影响池子年化收益率**

### 锁仓机制

> veCRV = 按“锁仓剩余时间”线性计算的治理权

线性时间换治理权，叫 **vote-escrow 模型**，是 Curve 的原创设计，后来被很多项目仿照（如 vePENDLE、veBAL、veYFI）。

- **你可以任意时长锁仓 CRV**，但最多 **锁 4 年**
- 锁仓时间越长 → 得到的 veCRV 越多（治理权越大）
- 但这个 veCRV **不是一次性给你**，而是随着时间 **线性减少 →**veCRV 实际是随时间流逝而“逐渐失效”的治理权

例如：

| 锁仓时长 | 得到的 veCRV 数量（相对于 1 CRV） |
| -------- | --------------------------------- |
| 1 周     | 约 0.004 veCRV                    |
| 1 年     | 0.25 veCRV                        |
| 4 年     | 1 veCRV（满额）                   |

也就是说：

> **锁仓 1000 CRV，锁 4 年 → 得 1000 veCRV** **锁 2 年 → 只得 500 veCRV**

你完全可以锁 1 周、1 个月、1 年，只是你的 veCRV 会少，能投票、分红的能力会降低。

而且：

- veCRV 会随着时间**线性减少**
- 如果不续期，治理权会慢慢衰减到 0
- 为了保持最大治理力，要不断「延长锁仓时间」 → 维护成本高

假设你锁了 1000 CRV，选择锁满 4 年（1460 天）：

- 锁定第一天：你拥有 1000 veCRV
- 1 年后（还剩 3 年）：你只剩下 750 veCRV
- 2 年后（剩 2 年）：只剩 500 veCRV
- 3 年后（剩 1 年）：只剩 250 veCRV
- 4 年后（剩 0 天）：你的 veCRV 为 **0**，治理权彻底失效

#### 动态衡量机制

> **锁得久，不代表你一直有权力，除非你持续锁下去。**

目的是防止“锁一次，吃四年红利”的行为，确保：

- 有治理权的人 = 依然在长期支持协议的人
- 鼓励长期锁仓 & 不断续期

所以：

> 想要一直拥有治理权，就要不断续期，延长锁仓时间 不续期，治理权自动慢慢削弱 → 归 0

影响：

**你的投票权**（在 bribe 市场有用）会慢慢减少

**你的分红收益**（CRV收入、池子激励）也会随 veCRV 数量减少

如果你不打算续期，那 veCRV 会一点点归零，最后你就只是拿回原本的 CRV

#### 核心目标

把“治理权”给到真正愿意长期支持 Curve 的用户，而不是来回炒短的投机者。

这是 Curve 的**协议精神**，你可以理解为：

- 想要参与治理、投票 → 请锁仓、承担风险
- 锁得越久 → 越信仰 → 给你越多的话语权

这类机制可以：

- 抑制短期鲸鱼操纵
- 激励长线持有者
- 构建协议治理的可持续性

这就是 Curve 独特的“**锁仓时间 = 治理权**”设计思路。

#### 分析

这就是 DeFi 的博弈哲学。

**站在 Curve 自己的角度：非常合理**

- 成功建立起忠实的“锁仓治理者”
- 形成稳定的投票机制 + bribe 市场
- 项目治理不易被短期资金操纵

**但站在普通用户角度：不太友好**

- 锁 4 年太久，不敢动
- 释放 veCRV 需要等时间，自由度低
- veCRV 无法转让、出售，灵活性差

所以，才有了 Convex 这样的项目来“聚合 veCRV”并提供流动性凭证，解决 Curve 自身模型对普通人不友好的问题。

#### 策略

> 我愿意持有 veCRV 吗？ 如果愿意，就要**定期续期锁仓时间**，不然权益会不断减少

但如果你不想每次都去续、又想吃 veCRV 带来的红利，那么你可能会选择：

- **去 Convex 等聚合平台存入 CRV**
- Convex 会替你锁仓，并且提供流动性凭证（如 cvxCRV），让你可以随时退出

### 用户痛点

如果用户选择将 CRV 直接锁仓为 veCRV：

- 好处：可以参与 Curve 治理、投票、分红
- 问题：
  - 锁仓最长 4 年（锁了就动不了）
  - veCRV 是非流动资产，不能交易、不能退出，只能等到解锁
  - veCRV 投票复杂、操作门槛高
  - 需要持续维护：延长锁仓期，才能维持 veCRV 权重不衰减

> 总之：**流动性差、使用复杂、收益节奏慢**

## Convex

### 定位

> **Convex 的崛起，本质是靠精妙的激励设计 + 自动化代操系统**，这在 DeFi 中是极具代表性的“协议层聚合器”。

Convex 是专为 Curve 打造的“收益聚合器平台”，它的目标：

- 让你 **不用锁 CRV 也能获取 veCRV 权益**
- 同时吸收你手里的 CRV / LP Token，让你收益最大化

### Convex 关键机制

> 我把票交给你代投，你把收益分给我

Convex 设计了一个“收益聚合器”逻辑：

 你把 CRV 存进去：

- Convex 会代表你统一锁成 veCRV（由 Convex 持有）
- 给你一个流动性凭证：`cvxCRV`
- 你可以拿着 cvxCRV：
  - 继续质押，赚取 CRV + CVX + veCRV 的分红
  - 卖掉（有流动性）
  - 用作其他 DeFi 策略的抵押资产（部分协议支持）

而你什么都不用管，不用维护锁仓、不用参与投票。Convex 替你全部搞定。

### 收益

> 更多 CRV → 更多 veCRV → 更多 bribe 收入 → 更多用户加入

- Convex 聚集大量 CRV，统一锁成 veCRV
- Convex 拥有 Curve 治理权 & 投票权（目前 Curve 最大治理方）
- 项目方会 bribe Convex → Convex 可以赚更多 → 分给 cvxCRV 持有者 → 吸引更多人存入

1. 用户将 Curve LP Token 存入 Convex，获得：
   1. Curve 的手续费收入
   2. CRV 奖励（由 Convex 代理领取）
   3. CVX 奖励（Convex 平台 token）
   4. veCRV 分红（由 Convex 持有 veCRV 统一返还）
2. 用户也可以将 CRV 提供给 Convex → 换取 cvxCRV → 自动锁仓帮你赚收益

## 收益路径

1. 你是 LP 用户：提供流动性，赚取：交易费 + CRV 激励 + CVX 激励 （建议通过 Convex 提供 LP，更高效）
2. 你是 CRV 持有者：锁仓变 veCRV，获取

- bribe 投票奖励
- 手续费分红
- 参与治理（或提供 CRV 给 Convex，获得 cvxCRV）

3. 你是 CVX 持有者

锁仓变 veCVX，参与 Convex 治理 + 投票决定 CRV 分配 （也可通过 votium.io 接收 bribing）
